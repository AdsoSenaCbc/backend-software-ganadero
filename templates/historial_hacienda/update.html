{% extends "base.html" %}
{% block title %}Actualizar Historial Hacienda - Sistema Ganadero{% endblock %}
{% block content %}
<div class="form-container">
    <h2>Actualizar Historial Hacienda</h2>
    <form method="POST" action="{{ url_for('historial_hacienda.update_html', id=hist.id_historial) }}">
        <div class="form-group">
            <label for="id_hacienda">Hacienda</label>
            <select id="id_hacienda" name="id_hacienda" class="form-select" required>
                {% for h in haciendas %}
                    <option value="{{ h.id_hacienda }}" {% if h.id_hacienda == hist.id_hacienda %}selected{% endif %}>{{ h.nombre }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="fecha">Fecha</label>
            <input type="datetime-local" id="fecha" name="fecha" value="{{ hist.fecha|replace(' ', 'T') }}" required>
        </div>
        <div class="form-group">
            <label for="existencia_animales">Existencia Animales</label>
            <input type="number" step="any" id="existencia_animales" name="existencia_animales" value="{{ hist.existencia_animales }}" required onwheel="this.blur()">
        </div>
        <div class="form-group">
            <label for="area">√Årea (ha)</label>
            <input type="number" step="any" id="area" name="area" value="{{ hist.area }}" required onwheel="this.blur()">
        </div>
        <div class="form-group">
            <label for="estado">Estado</label>
            <input type="text" id="estado" name="estado" value="{{ hist.estado }}" required>
        </div>
        <div class="form-group">
            <label for="observaciones">Observaciones</label>
            <textarea id="observaciones" name="observaciones" rows="3">{{ hist.observaciones }}</textarea>
        </div>
        <button type="submit" class="btn btn-primary">Guardar Cambios</button>
        <a href="{{ url_for('historial_hacienda.index_html') }}" class="btn btn-secondary ms-2">Volver</a>
    </form>
</div>
{% endblock %}