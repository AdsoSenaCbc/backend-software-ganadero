{% extends "base.html" %}
{% block title %}Actualizar Detalle de Raci贸n - Sistema Ganadero{% endblock %}
{% block content %}
<div class="form-container">
    <h2>Actualizar Detalle de Raci贸n</h2>
    <form method="POST" action="{{ url_for('detalle_racion.update_html', id=det.id_detalle) }}">
        <div class="form-group">
            <label for="id_racion">Raci贸n</label>
            <select id="id_racion" name="id_racion" class="form-select" required>
                {% for r in raciones %}
                    <option value="{{ r.id_racion }}" {% if r.id_racion == det.id_racion %}selected{% endif %}>Raci贸n {{ r.id_racion }} - Animal {{ r.animal.nombre if r.animal else r.id_animal }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="id_ingrediente">Ingrediente</label>
            <select id="id_ingrediente" name="id_ingrediente" class="form-select" required>
                {% for ing in ingredientes %}
                    <option value="{{ ing.id_ingrediente }}" {% if ing.id_ingrediente == det.id_ingrediente %}selected{% endif %}>{{ ing.nombre }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="cantidad_kg">Cantidad (kg)</label>
            <input type="number" step="0.01" id="cantidad_kg" name="cantidad_kg" value="{{ det.cantidad_kg }}" required>
        </div>
        <div class="form-group">
            <label for="porcentaje_ms">Porcentaje MS</label>
            <input type="number" step="0.01" id="porcentaje_ms" name="porcentaje_ms" value="{{ det.porcentaje_ms }}" required>
        </div>
        <button type="submit" class="btn btn-primary">Guardar Cambios</button>
        <a href="{{ url_for('detalle_racion.index_html') }}" class="btn btn-secondary ms-2">Volver</a>
    </form>
</div>
{% endblock %}