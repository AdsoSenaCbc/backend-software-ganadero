{% extends "base.html" %}
{% block title %}Editar Animal - Sistema Ganadero{% endblock %}
{% block content %}
<h2>Editar Animal</h2>
<form method="POST" action="{{ url_for('animal.update', id=animal.id_animal) }}">
    <input type="hidden" name="id_animal" value="{{ animal.id_animal }}">
    <label for="identificador_unico">Identificador Ãšnico:</label>
    <input type="text" id="identificador_unico" name="identificador_unico" value="{{ animal.identificador_unico }}" required>

    <label for="nombre">Nombre:</label>
    <input type="text" id="nombre" name="nombre" value="{{ animal.nombre }}">

    <label for="id_hacienda">Hacienda:</label>
    <select id="id_hacienda" name="id_hacienda" class="form-select" required>
        {% for h in haciendas %}
            <option value="{{ h.id_hacienda }}" {% if h.id_hacienda == animal.id_hacienda %}selected{% endif %}>{{ h.nombre }}</option>
        {% endfor %}
    </select>

    <label for="id_raza">Raza:</label>
    <select id="id_raza" name="id_raza" class="form-select" required>
        {% for r in razas %}
            <option value="{{ r.id_raza }}" {% if r.id_raza == animal.id_raza %}selected{% endif %}>{{ r.nombre }}</option>
        {% endfor %}
    </select>

    <label for="id_sexo">Sexo:</label>
    <select id="id_sexo" name="id_sexo" class="form-select" required>
        {% for s in sexos %}
            <option value="{{ s.id_sexo }}" {% if s.id_sexo == animal.id_sexo %}selected{% endif %}>{{ s.nombre }}</option>
        {% endfor %}
    </select>

    <label for="id_especie">Especie:</label>
    <select id="id_especie" name="id_especie" class="form-select" required>
        {% for e in especies %}
            <option value="{{ e.id_especie }}" {% if e.id_especie == animal.id_especie %}selected{% endif %}>{{ e.nombre }}</option>
        {% endfor %}
    </select>

    <label for="id_estado">Estado:</label>
    <select id="id_estado" name="id_estado" class="form-select" required>
        {% for est in estados %}
            <option value="{{ est.id_estado }}" {% if est.id_estado == animal.id_estado %}selected{% endif %}>{{ est.nombre_estado }}</option>
        {% endfor %}
    </select>

    <label for="id_etapa">Etapa:</label>
    <select id="id_etapa" name="id_etapa" class="form-select" required>
        {% for et in etapas %}
            <option value="{{ et.id_etapa }}" {% if et.id_etapa == animal.id_etapa %}selected{% endif %}>{{ et.nombre }}</option>
        {% endfor %}
    </select>

    <label for="peso">Peso (kg):</label>
    <input type="number" step="0.01" id="peso" name="peso" value="{{ animal.peso }}">

    <label for="observaciones">Observaciones:</label>
    <textarea id="observaciones" name="observaciones">{{ animal.observaciones }}</textarea>
    <button type="submit" class="btn btn-primary">Actualizar</button>
    <a href="{{ url_for('animal.index') }}" class="btn btn-secondary ms-2">Volver</a>
</form>
{% endblock %}