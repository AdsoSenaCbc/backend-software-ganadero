{% extends "base.html" %}
{% block title %}Editar Vacunación Animal{% endblock %}
{% block content %}
<style>
input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button{ -webkit-appearance:none;margin:0; }
input[type=number]{ appearance:textfield; -moz-appearance:textfield; }
.form-container{background:#c8cad4;padding:40px;border-radius:8px;max-width:800px;margin:0 auto;box-shadow:0 2px 6px rgba(0,0,0,0.15)}
</style>
<div class="container">
  <div class="form-container">
    <h2 style="text-align:center;color:#1e374d">Editar Vacunación</h2>
    <form method="POST" action="{{ url_for('vacunacion_animal.update_form', id_animal=v.id_animal, id_vacuna=v.id_vacuna, fecha=v.fecha_aplicacion.isoformat()) }}">
      <div class="form-group">
        <label for="fecha_aplicacion">Fecha de Aplicación</label>
        <input type="datetime-local" id="fecha_aplicacion" name="fecha_aplicacion" value="{{ v.fecha_aplicacion.strftime('%Y-%m-%dT%H:%M') if v.fecha_aplicacion else '' }}" required>
      </div>
      <div class="form-group">
        <label for="id_lote">Lote (opcional)</label>
        <select id="id_lote" name="id_lote" class="form-select">
          <option value="" {% if not v.id_lote %}selected{% endif %}>Sin lote</option>
          {% for l in lotes %}
            <option value="{{ l.id_lote }}" {% if l.id_lote == v.id_lote %}selected{% endif %}>{{ l.codigo_lote }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="form-group">
        <label for="observaciones">Observaciones</label>
        <textarea id="observaciones" name="observaciones" rows="3">{{ v.observaciones or '' }}</textarea>
      </div>
      <button type="submit" class="btn btn-primary">Actualizar</button>
      <a class="btn btn-secondary ms-2" href="{{ url_for('vacunacion_animal.index') }}">Volver</a>
    </form>
  </div>
</div>
{% endblock %}