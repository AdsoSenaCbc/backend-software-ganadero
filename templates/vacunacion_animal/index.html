{% extends "base.html" %}
{% block title %}Vacunaciones de Animales{% endblock %}
{% block content %}
<div class="container">
  <h2>Vacunaciones de Animales</h2>
  <a href="{{ url_for('vacunacion_animal.create_form') }}" class="btn">Registrar Vacunación</a>
  <table class="table-striped">
    <thead>
      <tr>
        <th>Animal</th>
        <th>Vacuna</th>
        <th>Fecha Aplicación</th>
        <th>Lote</th>
        <th>Observaciones</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      {% for v in vacunaciones %}
      <tr>
        <td>{{ v.animal.nombre if v.animal else v.id_animal }}</td>
        <td>{{ v.vacuna.nombre if v.vacuna else v.id_vacuna }}</td>
        <td>{{ v.fecha_aplicacion.strftime('%Y-%m-%d %H:%M') if v.fecha_aplicacion else '' }}</td>
        <td>{{ v.lote.codigo_lote if v.lote else '' }}</td>
        <td>{{ v.observaciones or '' }}</td>
        <td>
          <div class="action-buttons">
            <a href="{{ url_for('vacunacion_animal.update_form', id_animal=v.id_animal, id_vacuna=v.id_vacuna, fecha=v.fecha_aplicacion.isoformat()) }}" class="btn edit-btn">Editar</a>
            <a href="{{ url_for('vacunacion_animal.delete_form', id_animal=v.id_animal, id_vacuna=v.id_vacuna, fecha=v.fecha_aplicacion.isoformat()) }}" class="btn delete">Eliminar</a>
          </div>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}