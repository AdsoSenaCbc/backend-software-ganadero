{% extends "base.html" %}
{% block title %}Actualizar Requerimiento Nutricional - Sistema Ganadero{% endblock %}
{% block content %}
<div class="form-container">
    <h2>Actualizar Requerimiento Nutricional</h2>
    <form method="POST" action="{{ url_for('requerimientos_nutricionales.update_html', id=req.id_requerimiento) }}">
        <div class="form-group">
            <label for="id_etapa">Etapa</label>
            <select id="id_etapa" name="id_etapa" class="form-select" required>
                {% for e in etapas %}
                    <option value="{{ e.id_etapa }}" {% if e.id_etapa == req.id_etapa %}selected{% endif %}>{{ e.nombre }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="peso_min">Peso Mínimo (kg)</label>
            <input type="number" step="0.01" id="peso_min" name="peso_min" value="{{ req.peso_min }}" required>
        </div>
        <div class="form-group">
            <label for="peso_max">Peso Máximo (kg)</label>
            <input type="number" step="0.01" id="peso_max" name="peso_max" value="{{ req.peso_max }}" required>
        </div>
        <div class="form-group">
            <label for="id_nutriente">Nutriente</label>
            <select id="id_nutriente" name="id_nutriente" class="form-select" required>
                {% for n in nutrientes %}
                    <option value="{{ n.id_nutriente }}" {% if n.id_nutriente == req.id_nutriente %}selected{% endif %}>{{ n.nombre }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="valor_min">Valor Mínimo</label>
            <input type="number" step="0.0001" id="valor_min" name="valor_min" value="{{ req.valor_min }}" required>
        </div>
        <div class="form-group">
            <label for="valor_max">Valor Máximo</label>
            <input type="number" step="0.0001" id="valor_max" name="valor_max" value="{{ req.valor_max }}" required>
        </div>
        <div class="form-group">
            <label for="condicion">Condición</label>
            <input type="text" id="condicion" name="condicion" value="{{ req.condicion }}">
        </div>
        <button type="submit" class="btn btn-primary">Guardar Cambios</button>
        <a href="{{ url_for('requerimientos_nutricionales.index_html') }}" class="btn btn-secondary ms-2">Volver</a>
    </form>
</div>
{% endblock %}