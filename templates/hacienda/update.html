{% extends "base.html" %}
{% block title %}Editar Hacienda - Sistema Ganadero{% endblock %}
{% block content %}
<h2>Editar Hacienda</h2>
<form method="POST" action="{{ url_for('hacienda.update', id=hacienda.id_hacienda) }}">
    <input type="hidden" name="id_hacienda" value="{{ hacienda.id_hacienda }}">

    <label for="nombre">Nombre:</label>
    <input type="text" id="nombre" name="nombre" value="{{ hacienda.nombre }}" required>

    <label for="tel_contacto">Teléfono de Contacto:</label>
    <input type="text" id="tel_contacto" name="tel_contacto" value="{{ hacienda.tel_contacto }}">

    <label for="ubicacion">Ubicación:</label>
    <textarea id="ubicacion" name="ubicacion" rows="2">{{ hacienda.ubicacion }}</textarea>

    <label for="descripcion">Descripción:</label>
    <textarea id="descripcion" name="descripcion" rows="3">{{ hacienda.descripcion }}</textarea>

    <label for="id_departamento">Departamento:</label>
    <select id="id_departamento" name="id_departamento" class="form-select" required>
        {% for d in departamentos %}
            <option value="{{ d.id_departamento }}" {% if d.id_departamento == hacienda.id_departamento %}selected{% endif %}>{{ d.nombre_departamento }}</option>
        {% endfor %}
    </select>

    <label for="id_municipio">Municipio:</label>
    <select id="id_municipio" name="id_municipio" class="form-select" required>
        {% for m in municipios %}
            <option value="{{ m.id_municipio }}" {% if m.id_municipio == hacienda.id_municipio %}selected{% endif %}>{{ m.nombre_municipio }}</option>
        {% endfor %}
    </select>

    <label for="id_usuario">Usuario Responsable:</label>
    <select id="id_usuario" name="id_usuario" class="form-select" required>
        {% for u in usuarios %}
            <option value="{{ u.id_usuario }}" {% if u.id_usuario == hacienda.id_usuario %}selected{% endif %}>{{ u.nombres }} {{ u.apellidos }}</option>
        {% endfor %}
    </select>

    <button type="submit" class="btn btn-primary">Actualizar</button>
    <a href="{{ url_for('hacienda.index') }}" class="btn btn-secondary ms-2">Volver</a>
</form>
{% endblock %}